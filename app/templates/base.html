<!DOCTYPE html>
<html lang="pt-BR">

<head>
    <!-- 
    ========================================
    NetRouter AI - Template Base
    ========================================
    Este Ã© o template pai que todos os outros herdam.
    Define a estrutura comum: head, navbar, sidebar, footer.
    
    Por que usar heranÃ§a de templates?
    - Evita repetir cÃ³digo HTML
    - Facilita manutenÃ§Ã£o (muda em um lugar, afeta todos)
    - Ã‰ o padrÃ£o do Jinja2 (engine de templates do Flask)
    ========================================
    -->
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>{{ titulo }} | Psychic Spork</title>

    <!-- Google Fonts - Inter Ã© moderna e legÃ­vel -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link
        href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&family=JetBrains+Mono:wght@400;500&display=swap"
        rel="stylesheet">

    <!-- Chart.js para grÃ¡ficos -->
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>

    <!-- Nosso CSS customizado -->
    <link rel="stylesheet" href="{{ url_for('static', filename='css/style.css') }}">
</head>

<body>
    <!-- Container principal com grid para sidebar -->
    <div class="app-container">

        <!-- ========================================
             Sidebar de NavegaÃ§Ã£o
             ======================================== -->
        <aside class="sidebar">
            <!-- Logo do sistema -->
            <div class="sidebar-logo">
                <span class="logo-icon">ğŸŒ</span>
                <span class="logo-text">Psychic<span class="logo-ai">Spork</span></span>
            </div>

            <!-- Menu de navegaÃ§Ã£o -->
            <nav class="sidebar-nav">
                <a href="{{ url_for('main.index') }}" class="nav-item {% if titulo == 'Dashboard' %}active{% endif %}">
                    <span class="nav-icon">ğŸ“Š</span>
                    <span class="nav-text">Dashboard</span>
                </a>
                <a href="{{ url_for('main.troubleshoot') }}"
                    class="nav-item {% if titulo == 'Troubleshooting' %}active{% endif %}">
                    <span class="nav-icon">ğŸ”§</span>
                    <span class="nav-text">Troubleshoot</span>
                </a>
                <a href="{{ url_for('main.scripts') }}"
                    class="nav-item {% if titulo == 'Gerador de Scripts' %}active{% endif %}">
                    <span class="nav-icon">ğŸ“</span>
                    <span class="nav-text">Scripts</span>
                </a>
                <a href="{{ url_for('main.chat') }}" class="nav-item {% if titulo == 'Chat com IA' %}active{% endif %}">
                    <span class="nav-icon">ğŸ¤–</span>
                    <span class="nav-text">Chat IA</span>
                </a>
            </nav>

            <!-- Info sobre fabricantes na sidebar -->
            <div class="sidebar-section">
                <h4 class="section-title">Fabricantes</h4>
                <div class="vendor-list">
                    <span class="vendor-badge cisco">ğŸ”µ Cisco</span>
                    <span class="vendor-badge nokia">ğŸŸ  Nokia</span>
                    <span class="vendor-badge fortinet">ğŸ”´ FortiGate</span>
                    <span class="vendor-badge huawei">ğŸŸ¢ Huawei</span>
                </div>
            </div>
        </aside>

        <!-- ========================================
             Ãrea Principal de ConteÃºdo
             ======================================== -->
        <main class="main-content">
            <!-- Header da pÃ¡gina -->
            <header class="page-header">
                <h1 class="page-title">{{ titulo }}</h1>
                <div class="header-actions">
                    <div class="status-indicator online">
                        <span class="status-dot"></span>
                        <span>Sistema Online</span>
                    </div>
                </div>
            </header>

            <!-- ConteÃºdo especÃ­fico de cada pÃ¡gina -->
            <div class="page-content">
                {% block content %}
                <!-- ConteÃºdo da pÃ¡gina filho vai aqui -->
                {% endblock %}
            </div>
        </main>
    </div>

    <!-- ========================================
         Chat Flutuante com IA
         ======================================== -->
    <div class="chat-widget" id="chatWidget">
        <button class="chat-toggle" onclick="toggleChat()">
            <span class="chat-icon">ğŸ¤–</span>
            <span class="chat-label">Pergunte Ã  IA</span>
        </button>

        <div class="chat-container" id="chatContainer">
            <div class="chat-header">
                <span>ğŸ’¬ Assistente Psychic</span>
                <button class="chat-close" onclick="toggleChat()">âœ•</button>
            </div>
            <div class="chat-messages" id="chatMessages">
                <div class="message assistant">
                    <p>OlÃ¡! Sou o assistente de rede. Como posso ajudar?</p>
                </div>
            </div>
            <div class="chat-input-container">
                <input type="text" id="chatInput" placeholder="Digite sua dÃºvida..."
                    onkeypress="if(event.key==='Enter')enviarMensagem()">
                <button onclick="enviarMensagem()" class="btn-send">Enviar</button>
            </div>
        </div>
    </div>

    <!-- JavaScript do Dashboard -->
    <script src="{{ url_for('static', filename='js/dashboard.js') }}"></script>

    <!-- Scripts especÃ­ficos da pÃ¡gina -->
    {% block scripts %}
    {% endblock %}
</body>

</html>